<!DOCTYPE html>
<html>
<head>
    <title>Today's Featured Image</title>
    <style type="text/css">
        html, body {
            height: 90%;
        }
        .align-center {
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .item {
            max-width: 800px;
            text-align: center;
        }
        .image {
            height: 333px;
            width: 333px;
        }
    </style>
</head>
<body>
    <div class="align-center">
        <div class="item">
            <h1>Today's Featured Image</h1>
            <img name="todayImage" class="image">
            <div class="actions">
                Date <input type="date" name="date"> <input type="button" name="getImage" value="Get image">
            </div>
        </div>
    </div>

    <script type="text/javascript">
        function formatDate(date) {
          let d = new Date(date),
            day = '' + d.getDate(),
            month = '' + (d.getMonth() + 1),
            year = d.getFullYear();
          if (month.length < 2) month = '0' + month;
          if (day.length < 2) day = '0' + day;
          return [year, month, day].join('-');
        }

        (() => {
          const imageDate = document.querySelector('input[name="date"]');
          imageDate.value = formatDate(new Date());

          const todayImage = document.querySelector('img[name="todayImage"]');
          todayImage.src = 'http://ypaulc-cxxxxxx-exam.sloppy.zone/image.php?date='+formatDate(imageDate.value);

          const getImageBtn = document.querySelector('input[name="getImage"]');
          getImageBtn.addEventListener('click', () => {
            todayImage.src = 'http://ypaulc-cxxxxxx-exam.sloppy.zone/image.php?date='+formatDate(imageDate.value);
          });
        })();
    </script>
</body>
</html>
